{
  "version": 3,
  "sources": ["frappe-html:/home/frappe/frappe-bench/apps/doxbook_theme/doxbook_theme/public/js/ui/toolbar/navbar.html", "../../../../../apps/doxbook_theme/doxbook_theme/public/js/doxbook_theme_desk.bundle.js"],
  "sourcesContent": ["\n\tfrappe.templates['navbar'] = `<header class=\"navbar navbar-expand sticky-top dox-theme\" role=\"navigation\">\n\t<div class=\"container\">\n\t\t<a href=\"javascript:history.back()\" class=\"back-button\"></a>\n\t\t<a class=\"navbar-brand navbar-home\" href=\"/app\">\n\t\t\t<img class=\"app-logo\" style=\"width: {{ navbar_settings.logo_width || 24 }} px\"\n\t\t\t\tsrc=\"{{ frappe.boot.app_logo_url }}\">\n\t\t</a>\n\t\t<ul class=\"nav navbar-nav d-none d-sm-flex\" id=\"navbar-breadcrumbs\"></ul>\n\t\t<div class=\"collapse navbar-collapse justify-content-end\">\n\t\t\t<form class=\"form-inline fill-width justify-content-end\" role=\"search\" onsubmit=\"return false;\">\n\t\t\t\t{% if (frappe.boot.read_only) { %}\n\t\t\t\t<span class=\"indicator-pill yellow no-indicator-dot\" title=\"{%= __(\" Your site is getting upgraded.\")\n\t\t\t\t\t%}\">\n\t\t\t\t\t{%= __(\"Read Only Mode\") %}\n\t\t\t\t</span>\n\t\t\t\t{% } %}\n\t\t\t\t<div class=\"input-group search-bar text-muted hidden\">\n\t\t\t\t\t<input id=\"navbar-search\" type=\"text\" class=\"form-control\" placeholder=\"{%= __(\" Search or type a\n\t\t\t\t\t\tcommand (Ctrl + G)\") %}\" aria-haspopup=\"true\">\n\t\t\t\t\t<span class=\"search-icon\">\n\t\t\t\t\t\t<svg class=\"icon icon-sm\">\n\t\t\t\t\t\t\t<use href=\"#icon-search\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<li class=\"nav-item dropdown dropdown-language dropdown-mobile ness_lang\">\n\t\t\t\t\t<a class=\"nav-link lang-icon\" data-toggle=\"dropdown\" href=\"#\" onclick=\"return false;\">\n\t\t\t\t\t\t<!-- <i class=\"fa fa-globe lang-icon\"></i> -->\n\t\t\t\t\t\t<span id=\"current_lang\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class=\"dropdown-menu dropdown-menu-right\" id=\"toolbar-user\" role=\"menu\">\n\t\t\t\t\t\t<a class=\"dropdown-item\" id=\"change_lang_en\" href=\"#\">\n\t\t\t\t\t\t\tEnglish\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"dropdown-divider\"></div>\n\t\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" id=\"change_lang_ar\">\n\t\t\t\t\t\t\t<!-- onclick=\"return frappe.ui.toolbar.change_lang_ar()\" -->\n\t\t\t\t\t\t\tArabic\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"nav-item dropdown dropdown-notifications dropdown-mobile hidden\">\n\t\t\t\t\t<a class=\"nav-link notifications-icon text-muted\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\n\t\t\t\t\t\taria-expanded=\"true\" href=\"#\" onclick=\"return false;\">\n\t\t\t\t\t\t<span class=\"notifications-seen\">\n\t\t\t\t\t\t\t<svg class=\"icon icon-md\">\n\t\t\t\t\t\t\t\t<use href=\"#icon-notification\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"notifications-unseen\">\n\t\t\t\t\t\t\t<svg class=\"icon icon-md\">\n\t\t\t\t\t\t\t\t<use href=\"#icon-notification-with-indicator\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class=\"dropdown-menu notifications-list dropdown-menu-right\" role=\"menu\">\n\t\t\t\t\t\t<div class=\"notification-list-header\">\n\t\t\t\t\t\t\t<div class=\"header-items\"></div>\n\t\t\t\t\t\t\t<div class=\"header-actions\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"notification-list-body\">\n\t\t\t\t\t\t\t<div class=\"panel-notifications\"></div>\n\t\t\t\t\t\t\t<div class=\"panel-events\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"nav-item dropdown dropdown-message dropdown-mobile hidden\">\n\t\t\t\t\t<a class=\"nav-link notifications-icon text-muted\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\n\t\t\t\t\t\taria-expanded=\"true\" href=\"#\" onclick=\"return false;\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<svg class=\"icon icon-md\">\n\t\t\t\t\t\t\t\t<use href=\"#icon-small-message\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"vertical-bar d-none d-sm-block\"></li>\n\t\t\t\t<li class=\"nav-item dropdown dropdown-help dropdown-mobile d-none d-lg-block\">\n\t\t\t\t\t<a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\" onclick=\"return false;\">\n\t\t\t\t\t\t{{ __(\"Help\") }}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<svg class=\"icon icon-xs\">\n\t\t\t\t\t\t\t\t<use href=\"#icon-small-down\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class=\"dropdown-menu dropdown-menu-right\" id=\"toolbar-help\" role=\"menu\">\n\t\t\t\t\t\t<div id=\"help-links\"></div>\n\t\t\t\t\t\t<div class=\"dropdown-divider documentation-links\"></div>\n\t\t\t\t\t\t{% for item in navbar_settings.help_dropdown %}\n\t\t\t\t\t\t{% if (!item.hidden) { %}\n\t\t\t\t\t\t{% if (item.route) { %}\n\t\t\t\t\t\t<a class=\"dropdown-item\" href=\"{{ item.route }}\">\n\t\t\t\t\t\t\t{%= __(item.item_label) %}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{% } else if (item.action) { %}\n\t\t\t\t\t\t<a class=\"dropdown-item\" onclick=\"return {{ item.action }}\">\n\t\t\t\t\t\t\t{%= __(item.item_label) %}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{% } else { %}\n\t\t\t\t\t\t<div class=\"dropdown-divider\"></div>\n\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t{% endfor %}\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"nav-item dropdown dropdown-navbar-user dropdown-mobile\">\n\t\t\t\t\t<a class=\"nav-link\" data-toggle=\"dropdown\" href=\"#\" onclick=\"return false;\">\n\t\t\t\t\t\t{{ avatar }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class=\"dropdown-menu dropdown-menu-right\" id=\"toolbar-user\" role=\"menu\">\n\t\t\t\t\t\t{% for item in navbar_settings.settings_dropdown %}\n\t\t\t\t\t\t{% if (!item.hidden) { %}\n\t\t\t\t\t\t{% if (item.route) { %}\n\t\t\t\t\t\t<a class=\"dropdown-item\" href=\"{{ item.route }}\">\n\t\t\t\t\t\t\t{%= __(item.item_label) %}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{% } else if (item.action) { %}\n\t\t\t\t\t\t<a class=\"dropdown-item\" onclick=\"return {{ item.action }}\">\n\t\t\t\t\t\t\t{%= __(item.item_label) %}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{% } else { %}\n\t\t\t\t\t\t<div class=\"dropdown-divider\"></div>\n\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t{% } %}\n\t\t\t\t\t\t{% endfor %}\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"nav-item\" class=\"hidden-xs\">\n\t\t\t\t\t<button type=\"button\" id=\"change-branch-id\" class=\"change-branch btn btn-info\"\n\t\t\t\t\t\tdata-toggle=\"dropdown\">\n\t\t\t\t\t\tChange Branch\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</header>`;\n", "import \"./ui/toolbar/navbar.html\";\r\n// TaxesAndTotalsExtend is just variable name\r\n// erpnext.taxes_and_totals is function contain function you want to override\r\n\r\n// const TaxesAndTotalsExtend = frappe.workspace.extend({\r\n// });\r\n// console.log(\"hello from dox\")\r\n// frappe.provide(\"frappe.view.Workspace\");\r\n// frappe.views.Workspace.extend({\r\n//     sidebar_item_container(item) {\r\n//         console.log('Hello from extend taxes and total extend !!');\r\n//     }\r\n// });\r\n\r\nfrappe.standard_pages[\"Workspaces\"] = function () {\r\n  var wrapper = frappe.container.add_page(\"Workspaces\");\r\n\r\n  frappe.ui.make_app_page({\r\n    parent: wrapper,\r\n    name: \"Workspaces\",\r\n    title: __(\"Workspace\"),\r\n  });\r\n\r\n  frappe.workspace = new Custom_Workspace(wrapper);\r\n  $(wrapper).bind(\"show\", function () {\r\n    frappe.workspace.show();\r\n  });\r\n\r\n\r\n\r\n\r\n};\r\n\r\nclass Custom_Workspace extends frappe.views.Workspace {\r\n  \r\n  sidebar_item_container(item) {\r\n    \r\n    return $(`\r\n\t\t\t<div\r\n\t\t\t\tclass=\"sidebar-item-container ${item.is_editable ? \"is-draggable\" : \"\"}\"\r\n\t\t\t\titem-parent=\"${item.parent_page}\"\r\n\t\t\t\titem-name=\"${item.title}\"\r\n\t\t\t\titem-public=\"${item.public || 0}\"\r\n\t\t\t\titem-is-hidden=\"${item.is_hidden || 0}\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"desk-sidebar-item standard-sidebar-item ${item.selected ? \"selected\" : \"\"\r\n      }\">\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"/app/${item.public\r\n        ? frappe.router.slug(item.title)\r\n        : \"private/\" + frappe.router.slug(item.title)\r\n      }\"\r\n\t\t\t\t\t\tclass=\"item-anchor ${item.is_editable ? \"\" : \"block-click\"}\" title=\"${__(\r\n        item.title\r\n      )}\"\r\n\t\t\t\t\t>\r\n                    \r\n\t\t\t\t\t\t<span class=\"sidebar-item-icon\" item-icon=${item.icon || \"folder-normal\"}>\r\n                        ${item.svg\r\n        ? '<img class=\"icon-md mr-2\" src=' +\r\n        item.svg +\r\n        \" />\"\r\n        : frappe.utils.icon(\r\n          item.icon || \"folder-normal\",\r\n          \"md\"\r\n        )\r\n      }\r\n                        \r\n                        \r\n        </span>\r\n\t\t\t\t\t\t<span class=\"sidebar-item-label\">${__(item.title)}<span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div class=\"sidebar-item-control\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"sidebar-child-item nested-container\"></div>\r\n\t\t\t</div>\r\n\t\t`);\r\n  }\r\n\r\n  // constructor(wrapper) {\r\n  //   // this.wrapper = $(wrapper);\r\n  //   this.prepare_container();\r\n  // }\r\n\r\n}\r\n\r\n\r\nfunction initialize() {\r\n\r\n  let set_session = localStorage.getItem(\"set_session\");\r\n  if (parseInt(set_session) === 1) {\r\n      d.show();\r\n      localStorage.setItem(\"set_session\", 0);\r\n  }   \r\n\r\n  $(\".change-branch\").click(function(){\r\n      d.show();\r\n      localStorage.setItem(\"set_session\", 0);  \r\n  })\r\n  \r\n  const btn = document.getElementById(\"change-branch-id\");\r\n  if (frappe.defaults.get_default(\"branch\")) {\r\n      btn.innerText = frappe.defaults.get_default(\"branch\")\r\n  }else{\r\n      btn.innerText = \"Select Branch\"\r\n  }\r\n  \r\n}\r\n\r\n$(window).ready(initialize)\r\n\r\nlet d = new frappe.ui.Dialog({\r\n  title: 'Please select your Current Branch',\r\n  fields: [\r\n      {\r\n          label: 'Branch',\r\n          fieldname: 'branch',\r\n          fieldtype: 'Link',\r\n          options:\"Branch\"\r\n      },\r\n  ],\r\n  size: 'small', // small, large, extra-large \r\n  primary_action_label: 'Submit',\r\n  primary_action(values) {\r\n      console.log(values.branch);\r\n      update_session_default(values.branch)\r\n      d.hide();\r\n  }\r\n});\r\n\r\n\r\nfunction update_session_default(branch) {\r\n  frappe.call({\r\n    method: \"frappe.core.doctype.session_default_settings.session_default_settings.set_session_default_values\",\r\n    args: {\r\n      default_values: {\"branch\": branch},\r\n    },\r\n    callback: function (data) {\r\n      if (data.message == \"success\") {\r\n        frappe.show_alert({\r\n          message: __(\"Current Branch Updated\"),\r\n          indicator: \"green\",\r\n        });\r\n        frappe.ui.toolbar.clear_cache();\r\n      } else {\r\n        frappe.show_alert({\r\n          message: __(\r\n            \"An error occurred while setting your current branch\"\r\n          ),\r\n          indicator: \"red\",\r\n        });\r\n      }\r\n    },\r\n  });\r\n}\r\n"],
  "mappings": "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",
  "names": ["wrapper", "Custom_Workspace", "item", "initialize", "set_session", "d", "btn", "values", "update_session_default", "branch", "data"]
}
